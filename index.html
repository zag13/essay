<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Essay</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="Essay" content="Lifelong Learning">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="icon" href="./assets/favicon.ico">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
    <style>
      .github-corner {
        position: absolute;
      }
    </style>
</head>
<body>
<div id="app"></div>
<script>
    window.$docsify = {
        // GENERAL
        // -----------------------------------------------------------------
        name: 'zag13/essay',
        repo: 'https://github.com/zag13/essay',
        relativePath: true,

        // NAVIGATION
        // -----------------------------------------------------------------
        auto2top: true,
        loadSidebar: true,
        subMaxLevel: 3,
        loadNavbar: true,
        mergeNavbar: true,

        // PLUGINS
        // -----------------------------------------------------------------
        search: 'auto',
        tabs: {
            persist: false,         // default
            sync: true,             // default
            theme: 'classic',       // default
            tabComments: true,      // default
            tabHeadings: true       // default
        },
    }

    window.markmap = {
        autoLoader: {manual: true},
    };

    document.onreadystatechange = function () {
        if (document.readyState === 'complete') {
            // 如果存在 .markmap 元素，就渲染
            if (document.querySelector('.markmap')) {
                el = document.querySelector('.markmap');
                path = getQueryVariable('path');
                el.textContent = loadFile(decodeURIComponent(path) + '.md');
                markmap.autoLoader.renderAll();
            }
        }
    }

    function loadFile(name) {
        const xhr = new XMLHttpRequest();
        const okStatus = document.location.protocol === 'file:' ? 0 : 200;
        xhr.open('GET', name, false);
        xhr.overrideMimeType('text/markdown;charset=utf-8');
        xhr.send(null);
        return xhr.status === okStatus ? xhr.responseText : null;
    }

    function getQueryVariable(variable) {
        var query = window.location.hash.split("?")[1];
        var vars = query.split("&");
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split("=");
            if (pair[0] === variable) {
                return pair[1];
            }
        }
        return false;
    }
</script>
<script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
<script src="//cdn.jsdelivr.net/npm/docsify@4/lib/plugins/search.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/docsify-tabs@1"></script>
<script src="//cdn.jsdelivr.net/npm/markmap-autoloader@latest"></script>
</body>
</html>
